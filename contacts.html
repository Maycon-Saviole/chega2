<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‘¥ Contatos - CHEGA!</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav class="top-nav">
        <button class="back-btn" onclick="location.href='index.html'">â† Voltar</button>
        <h1>ğŸ‘¥ Contatos de EmergÃªncia</h1>
    </nav>

    <main class="container">
        <!-- IntroduÃ§Ã£o -->
        <div class="contacts-intro">
            <p>Estas pessoas serÃ£o alertadas automaticamente em caso de emergÃªncia.</p>
            <p class="note">ğŸ’¡ Recomendamos pelo menos 3 contatos de confianÃ§a.</p>
        </div>

        <!-- Lista de Contatos -->
        <div class="contacts-list">
            <h2>Seus Contatos</h2>
            
            <div class="contact-card">
                <div class="contact-avatar">ğŸ‘¨</div>
                <div class="contact-info">
                    <h3>JoÃ£o Silva (Pai)</h3>
                    <p class="contact-phone">ğŸ“ (11) 99999-9999</p>
                    <div class="contact-tags">
                        <span class="tag primary">PrimÃ¡rio</span>
                        <span class="tag active">Ativo</span>
                    </div>
                </div>
                <button class="contact-edit" onclick="editContact(1)">âœï¸</button>
            </div>
            
            <div class="contact-card">
                <div class="contact-avatar">ğŸ‘©</div>
                <div class="contact-info">
                    <h3>Maria Santos (Amiga)</h3>
                    <p class="contact-phone">ğŸ“ (11) 98888-8888</p>
                    <div class="contact-tags">
                        <span class="tag active">Ativo</span>
                        <span class="tag trip">Acompanha trajetos</span>
                    </div>
                </div>
                <button class="contact-edit" onclick="editContact(2)">âœï¸</button>
            </div>
            
            <div class="contact-card">
                <div class="contact-avatar">ğŸ‘®</div>
                <div class="contact-info">
                    <h3>PolÃ­cia Militar</h3>
                    <p class="contact-phone">ğŸ“ 190</p>
                    <div class="contact-tags">
                        <span class="tag emergency">EmergÃªncia</span>
                    </div>
                </div>
                <button class="contact-edit" onclick="editContact(3)">âœï¸</button>
            </div>
            
            <!-- Contato vazio para adicionar -->
            <div class="contact-card add-contact" onclick="addContact()">
                <div class="contact-avatar">â•</div>
                <div class="contact-info">
                    <h3>Adicionar Contato</h3>
                    <p class="contact-phone">Toque para adicionar novo contato</p>
                </div>
            </div>
        </div>

        <!-- ConfiguraÃ§Ãµes de NotificaÃ§Ã£o -->
        <div class="notification-settings">
            <h2>ğŸ”” ConfiguraÃ§Ãµes de Alerta</h2>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" checked>
                    Enviar SMS automaticamente
                </label>
            </div>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" checked>
                    Incluir localizaÃ§Ã£o no mapa
                </label>
            </div>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox">
                    Ligar automaticamente para contatos
                </label>
            </div>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" checked>
                    Compartilhar trajetos com contatos primÃ¡rios
                </label>
            </div>
        </div>

        <!-- Mensagem Personalizada -->
        <div class="message-settings">
            <h2>ğŸ’¬ Mensagem de EmergÃªncia</h2>
            <textarea id="emergencyMessage" class="message-input" rows="4">
ğŸš¨ EMERGÃŠNCIA CHEGA!

Preciso de ajuda imediata!

ğŸ“ Minha localizaÃ§Ã£o atual: {LOCATION}
ğŸ•’ Hora: {TIME}
ğŸ“± Meu telefone: {MY_PHONE}

Por favor, envie ajuda ou entre em contato com as autoridades.

Este alerta foi enviado automaticamente pelo App CHEGA!
            </textarea>
            <p class="message-help">
                Use {LOCATION}, {TIME}, {MY_PHONE} para informaÃ§Ãµes automÃ¡ticas
            </p>
            <button onclick="saveMessage()" class="btn-save">ğŸ’¾ Salvar Mensagem</button>
        </div>
    </main>

    <!-- Modal de EdiÃ§Ã£o -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <h2>Editar Contato</h2>
            <input type="text" id="contactName" placeholder="Nome" class="modal-input">
            <input type="tel" id="contactPhone" placeholder="Telefone" class="modal-input">
            <div class="modal-actions">
                <button onclick="saveContact()" class="btn-confirm">ğŸ’¾ Salvar</button>
                <button onclick="closeModal()" class="btn-cancel">âŒ Cancelar</button>
                <button onclick="deleteContact()" class="btn-delete">ğŸ—‘ï¸ Excluir</button>
            </div>
        </div>
    </div>

    <script>
        let editingContactId = null;
        
        function addContact() {
            editingContactId = null;
            document.getElementById('contactName').value = '';
            document.getElementById('contactPhone').value = '';
            document.getElementById('editModal').style.display = 'block';
        }
        
        function editContact(id) {
            editingContactId = id;
            // Na prÃ¡tica, carregaria dados do contato
            document.getElementById('contactName').value = 'Novo Contato';
            document.getElementById('contactPhone').value = '(11) 97777-7777';
            document.getElementById('editModal').style.display = 'block';
        }
        
        function saveContact() {
            const name = document.getElementById('contactName').value;
            const phone = document.getElementById('contactPhone').value;
            
            if (name && phone) {
                alert(`Contato ${name} salvo!`);
                closeModal();
                // Recarregar lista
            } else {
                alert('Preencha nome e telefone!');
            }
        }
        
        function deleteContact() {
            if (confirm('Excluir este contato?')) {
                alert('Contato excluÃ­do!');
                closeModal();
            }
        }
        
        function closeModal() {
            document.getElementById('editModal').style.display = 'none';
        }
        
        function saveMessage() {
            const message = document.getElementById('emergencyMessage').value;
            localStorage.setItem('chega_emergency_message', message);
            alert('Mensagem salva com sucesso!');
        }
        
        // Carregar mensagem salva
        document.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('chega_emergency_message');
            if (saved) {
                document.getElementById('emergencyMessage').value = saved;
            }
        });
    </script>
</body>
</html>