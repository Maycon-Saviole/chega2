<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öôÔ∏è Configura√ß√µes - CHEGA!</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav class="top-nav">
        <button class="back-btn" onclick="location.href='index.html'">‚Üê Voltar</button>
        <h1>‚öôÔ∏è Configura√ß√µes</h1>
    </nav>

    <main class="container">
        <!-- Perfil do Usu√°rio -->
        <section class="profile-section">
            <h2>üë§ Seu Perfil</h2>
            <div class="profile-card">
                <div class="profile-avatar">üë©</div>
                <div class="profile-info">
                    <input type="text" id="userName" value="Ana Silva" class="profile-input">
                    <input type="tel" id="userPhone" value="(11) 99999-9999" class="profile-input">
                    <input type="email" id="userEmail" value="ana@email.com" placeholder="E-mail (opcional)" class="profile-input">
                </div>
                <button onclick="saveProfile()" class="profile-save">üíæ Salvar</button>
            </div>
        </section>

        <!-- Configura√ß√µes de Emerg√™ncia -->
        <section class="emergency-settings">
            <h2>üö® Configura√ß√µes de Emerg√™ncia</h2>
            
            <div class="settings-group">
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="vibrateSetting" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="setting-info">
                        <h3>üì≥ Vibrar em emerg√™ncia</h3>
                        <p>O celular vibra quando o alerta √© ativado</p>
                    </div>
                </div>
                
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="soundSetting" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="setting-info">
                        <h3>üîä Som de sirene</h3>
                        <p>Toca som alto durante emerg√™ncia</p>
                    </div>
                </div>
                
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="flashSetting" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="setting-info">
                        <h3>üî¶ Piscar tela/lanterna</h3>
                        <p>Efeito visual para chamar aten√ß√£o</p>
                    </div>
                </div>
                
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="autoSMSSetting" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="setting-info">
                        <h3>üì± SMS autom√°tico</h3>
                        <p>Envia SMS automaticamente para contatos</p>
                    </div>
                </div>
                
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="locationSetting" checked>
                        <span class="slider"></span>
                    </label>
                    <div class="setting-info">
                        <h3>üìç Compartilhar localiza√ß√£o</h3>
                        <p>Inclui sua localiza√ß√£o nos alertas</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Configura√ß√µes de Ativa√ß√£o -->
        <section class="activation-settings">
            <h2>üîò Como Ativar a Emerg√™ncia</h2>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="volumeButtonSetting" checked>
                    Bot√£o de volume (3 toques r√°pidos)
                </label>
            </div>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="shakeSetting" checked>
                    Sacudir o celular
                </label>
            </div>
            
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="screenOffSetting">
                    Tela desligada (segure bot√£o de energia)
                </label>
            </div>
            
            <div class="setting-item">
                <h3>‚è±Ô∏è Tempo para ativa√ß√£o:</h3>
                <select id="activationTime" class="select-setting">
                    <option value="2">2 segundos (r√°pido)</option>
                    <option value="3" selected>3 segundos (recomendado)</option>
                    <option value="5">5 segundos (evita acidentes)</option>
                </select>
            </div>
        </section>

        <!-- Configura√ß√µes de Acompanhamento -->
        <section class="trip-settings">
            <h2>üìç Acompanhamento de Trajeto</h2>
            
            <div class="setting-item">
                <label class="switch">
                    <input type="checkbox" id="autoTripSetting">
                    <span class="slider"></span>
                </label>
                <div class="setting-info">
                    <h3>üöó Iniciar trajeto automaticamente</h3>
                    <p>Quando detecta que voc√™ est√° se movendo</p>
                </div>
            </div>
            
            <div class="setting-item">
                <h3>‚è∞ Tempo m√°ximo de trajeto:</h3>
                <select id="maxTripTime" class="select-setting">
                    <option value="30">30 minutos</option>
                    <option value="60" selected>1 hora</option>
                    <option value="120">2 horas</option>
                    <option value="240">4 horas</option>
                </select>
            </div>
            
            <div class="setting-item">
                <h3>üìç Frequ√™ncia de atualiza√ß√£o:</h3>
                <select id="locationUpdateFreq" class="select-setting">
                    <option value="10">10 segundos</option>
                    <option value="30" selected>30 segundos</option>
                    <option value="60">1 minuto</option>
                    <option value="300">5 minutos</option>
                </select>
            </div>
        </section>

        <!-- Configura√ß√µes de Comunidade -->
        <section class="community-settings">
            <h2>ü§ù Comunidade CHEGA+</h2>
            
            <div class="setting-item">
                <label class="switch">
                    <input type="checkbox" id="communitySetting" checked>
                    <span class="slider"></span>
                </label>
                <div class="setting-info">
                    <h3>üåê Participar da rede</h3>
                    <p>Conectar com outras usu√°rias pr√≥ximas</p>
                </div>
            </div>
            
            <div class="setting-item">
                <label class="switch">
                    <input type="checkbox" id="receiveAlertsSetting" checked>
                    <span class="slider"></span>
                </label>
                <div class="setting-info">
                    <h3>‚ö†Ô∏è Receber alertas da comunidade</h3>
                    <p>Notifica√ß√µes de emerg√™ncias pr√≥ximas</p>
                </div>
            </div>
            
            <div class="setting-item">
                <h3>üìç Raio de conex√£o:</h3>
                <select id="communityRadius" class="select-setting">
                    <option value="500">500 metros</option>
                    <option value="1000" selected>1 quil√¥metro</option>
                    <option value="2000">2 quil√¥metros</option>
                    <option value="5000">5 quil√¥metros</option>
                </select>
            </div>
        </section>

        <!-- Configura√ß√µes de Privacidade -->
        <section class="privacy-settings">
            <h2>üîí Privacidade</h2>
            
            <div class="setting-item">
                <label class="switch">
                    <input type="checkbox" id="analyticsSetting" checked>
                    <span class="slider"></span>
                </label>
                <div class="setting-info">
                    <h3>üìä Enviar dados an√¥nimos</h3>
                    <p>Ajuda a melhorar o aplicativo (dados anonimizados)</p>
                </div>
            </div>
            
            <div class="setting-item">
                <label class="switch">
                    <input type="checkbox" id="crashReportsSetting">
                    <span class="slider"></span>
                </label>
                <div class="setting-info">
                    <h3>üêõ Reportar falhas automaticamente</h3>
                    <p>Envia relat√≥rios de erros para corre√ß√£o</p>
                </div>
            </div>
            
            <div class="privacy-actions">
                <button onclick="exportData()" class="privacy-btn">
                    üì• Exportar meus dados
                </button>
                <button onclick="deleteData()" class="privacy-btn delete">
                    üóëÔ∏è Excluir todos os dados
                </button>
            </div>
        </section>

        <!-- Sobre e Ajuda -->
        <section class="help-section">
            <h2>‚ùì Ajuda</h2>
            
            <button onclick="location.href='about.html'" class="help-btn">
                ‚ÑπÔ∏è Sobre o aplicativo
            </button>
            
            <button onclick="showTutorial()" class="help-btn">
                üéì Ver tutorial novamente
            </button>
            
            <button onclick="checkUpdates()" class="help-btn">
                üîÑ Verificar atualiza√ß√µes
            </button>
            
            <button onclick="reportBug()" class="help-btn">
                üêõ Reportar problema
            </button>
            
            <button onclick="contactSupport()" class="help-btn">
                üí¨ Falar com suporte
            </button>
        </section>

        <!-- Bot√µes de A√ß√£o -->
        <section class="action-buttons">
            <button onclick="saveAllSettings()" class="btn-primary">
                üíæ Salvar todas as configura√ß√µes
            </button>
            
            <button onclick="resetSettings()" class="btn-secondary">
                üîÑ Restaurar padr√µes
            </button>
            
            <button onclick="location.href='index.html'" class="btn-cancel">
                ‚Üê Voltar ao in√≠cio
            </button>
        </section>
    </main>

    <script>
        // Carregar configura√ß√µes salvas
        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('chega_settings') || '{}');
            
            // Aplicar configura√ß√µes aos elementos
            document.getElementById('vibrateSetting').checked = settings.vibrate !== false;
            document.getElementById('soundSetting').checked = settings.sound !== false;
            // ... carregar outras configura√ß√µes
        }
        
        function saveAllSettings() {
            const settings = {
                vibrate: document.getElementById('vibrateSetting').checked,
                sound: document.getElementById('soundSetting').checked,
                flash: document.getElementById('flashSetting').checked,
                autoSMS: document.getElementById('autoSMSSetting').checked,
                shareLocation: document.getElementById('locationSetting').checked,
                volumeButton: document.getElementById('volumeButtonSetting').checked,
                shake: document.getElementById('shakeSetting').checked,
                activationTime: document.getElementById('activationTime').value,
                community: document.getElementById('communitySetting').checked,
                analytics: document.getElementById('analyticsSetting').checked
            };
            
            localStorage.setItem('chega_settings', JSON.stringify(settings));
            alert('‚úÖ Configura√ß√µes salvas com sucesso!');
        }
        
        function saveProfile() {
            const profile = {
                name: document.getElementById('userName').value,
                phone: document.getElementById('userPhone').value,
                email: document.getElementById('userEmail').value
            };
            
            localStorage.setItem('chega_profile', JSON.stringify(profile));
            alert('üë§ Perfil salvo!');
        }
        
        function resetSettings() {
            if (confirm('Restaurar todas as configura√ß√µes para os valores padr√£o?')) {
                localStorage.removeItem('chega_settings');
                loadSettings();
                alert('üîÑ Configura√ß√µes restauradas!');
            }
        }
        
        function exportData() {
            const data = {
                profile: JSON.parse(localStorage.getItem('chega_profile') || '{}'),
                settings: JSON.parse(localStorage.getItem('chega_settings') || '{}'),
                contacts: JSON.parse(localStorage.getItem('chega_contacts') || '[]'),
                history: JSON.parse(localStorage.getItem('chega_history') || '[]')
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'chega-backup.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            alert('üì• Backup dos seus dados criado!');
        }
        
        function deleteData() {
            if (confirm('‚ö†Ô∏è ATEN√á√ÉO: Isso excluir√° TODOS os seus dados do aplicativo. Tem certeza?')) {
                localStorage.clear();
                alert('üóëÔ∏è Todos os dados foram exclu√≠dos. O app ser√° recarregado.');
                location.reload();
            }
        }
        
        function showTutorial() {
            alert('üéì O tutorial ser√° mostrado na pr√≥xima vez que voc√™ abrir o app.');
            localStorage.removeItem('chega_tutorial_seen');
        }
        
        function checkUpdates() {
            alert('üîç Verificando atualiza√ß√µes...');
            // Na pr√°tica, verificar vers√£o atual vs vers√£o no servidor
        }
        
        function reportBug() {
            const bug = prompt('Descreva o problema que encontrou:');
            if (bug) {
                alert('üêõ Problema reportado! Obrigado pela contribui√ß√£o.');
                // Enviar para servidor/email
            }
        }
        
        function contactSupport() {
            window.open('mailto:suporte@chegaapp.org', '_blank');
        }
        
        // Carregar configura√ß√µes quando a p√°gina carrega
        document.addEventListener('DOMContentLoaded', loadSettings);
    </script>
</body>
</html>