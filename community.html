<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤ CHEGA+ - Comunidade</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav class="top-nav">
        <button class="back-btn" onclick="location.href='index.html'">â† Voltar</button>
        <h1>ğŸ¤ CHEGA+</h1>
        <span class="community-badge">ğŸŒ Rede Ativa</span>
    </nav>

    <main class="container">
        <!-- IntroduÃ§Ã£o -->
        <div class="community-intro">
            <h2>Rede de Apoio PrÃ³xima</h2>
            <p>Conecte-se com outras usuÃ¡rias do CHEGA! prÃ³ximas a vocÃª.</p>
            <p class="note">ğŸ”’ Todas as comunicaÃ§Ãµes sÃ£o criptografadas e anÃ´nimas.</p>
        </div>

        <!-- Status da Rede -->
        <div class="network-status">
            <div class="status-card">
                <div class="status-icon">ğŸ‘¥</div>
                <div class="status-info">
                    <h3>UsuÃ¡rias PrÃ³ximas</h3>
                    <p id="nearbyCount">3 na sua Ã¡rea</p>
                </div>
            </div>
            
            <div class="status-card">
                <div class="status-icon">ğŸ“¡</div>
                <div class="status-info">
                    <h3>Rede</h3>
                    <p id="networkStatus">Conectada</p>
                </div>
            </div>
        </div>

        <!-- Lista de UsuÃ¡rias PrÃ³ximas -->
        <div class="users-list">
            <h3>ğŸ‘­ Pessoas PrÃ³ximas</h3>
            
            <div class="user-card">
                <div class="user-avatar">ğŸ‘©</div>
                <div class="user-info">
                    <h4>Ana (vocÃª)</h4>
                    <p class="user-distance">ğŸ“ VocÃª estÃ¡ aqui</p>
                    <div class="user-status">
                        <span class="status-badge safe">âœ… Segura</span>
                    </div>
                </div>
            </div>
            
            <div class="user-card">
                <div class="user-avatar">ğŸ‘±â€â™€ï¸</div>
                <div class="user-info">
                    <h4>Maria</h4>
                    <p class="user-distance">ğŸ“ 250m de vocÃª</p>
                    <div class="user-status">
                        <span class="status-badge safe">âœ… Segura</span>
                        <span class="status-badge online">ğŸŒ Online</span>
                    </div>
                </div>
                <button onclick="sendNudge(1)" class="user-action">ğŸ‘‹ Cutucar</button>
            </div>
            
            <div class="user-card">
                <div class="user-avatar">ğŸ‘µ</div>
                <div class="user-info">
                    <h4>Dona Marta</h4>
                    <p class="user-distance">ğŸ“ 800m de vocÃª</p>
                    <div class="user-status">
                        <span class="status-badge traveling">ğŸš¶â€â™€ï¸ Em trÃ¢nsito</span>
                    </div>
                </div>
                <button onclick="sendNudge(2)" class="user-action">ğŸ‘‹ Cutucar</button>
            </div>
            
            <div class="user-card">
                <div class="user-avatar">ğŸ‘©â€ğŸ“</div>
                <div class="user-info">
                    <h4>Julia</h4>
                    <p class="user-distance">ğŸ“ 1.2km de vocÃª</p>
                    <div class="user-status">
                        <span class="status-badge safe">âœ… Segura</span>
                        <span class="status-badge chega-plus">ğŸ¤ CHEGA+ Ativa</span>
                    </div>
                </div>
                <button onclick="sendNudge(3)" class="user-action">ğŸ‘‹ Cutucar</button>
            </div>
        </div>

        <!-- AÃ§Ãµes da Comunidade -->
        <div class="community-actions">
            <h3>ğŸ¤² Como Ajudar</h3>
            
            <button onclick="toggleHelpMode()" class="action-btn">
                <span class="action-icon">ğŸ›¡ï¸</span>
                <span class="action-text">Modo Vigilante</span>
                <span id="helpModeStatus" class="action-status">OFF</span>
            </button>
            
            <button onclick="broadcastSafeZone()" class="action-btn">
                <span class="action-icon">ğŸ“</span>
                <span class="action-text">Sinalizar Zona Segura</span>
            </button>
            
            <button onclick="openCommunityChat()" class="action-btn">
                <span class="action-icon">ğŸ’¬</span>
                <span class="action-text">Chat da Comunidade</span>
            </button>
            
            <button onclick="reportIncident()" class="action-btn">
                <span class="action-icon">âš ï¸</span>
                <span class="action-text">Reportar Incidente</span>
            </button>
        </div>

        <!-- Alertas Recentes -->
        <div class="community-alerts">
            <h3>âš ï¸ Alertas da Comunidade</h3>
            
            <div class="alert-card">
                <div class="alert-icon">ğŸš¨</div>
                <div class="alert-info">
                    <h4>Alerta de EmergÃªncia</h4>
                    <p class="alert-time">HÃ¡ 15 minutos - 500m</p>
                    <p class="alert-desc">UsuÃ¡ria ativou emergÃªncia. SituaÃ§Ã£o resolvida.</p>
                </div>
            </div>
            
            <div class="alert-card">
                <div class="alert-icon">ğŸ“</div>
                <div class="alert-info">
                    <h4>Zona Segura</h4>
                    <p class="alert-time">FarmÃ¡cia 24h - 300m</p>
                    <p class="alert-desc">Local seguro identificado pela comunidade.</p>
                </div>
            </div>
        </div>

        <!-- EstatÃ­sticas -->
        <div class="community-stats">
            <h3>ğŸ“Š EstatÃ­sticas</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value">42</div>
                    <div class="stat-label">Alertas enviados</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">18</div>
                    <div class="stat-label">SituaÃ§Ãµes evitadas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">156</div>
                    <div class="stat-label">UsuÃ¡rias na cidade</div>
                </div>
            </div>
        </div>
    </main>

    <script>
        let helpModeActive = false;
        let nearbyUsers = 3;
        
        function sendNudge(userId) {
            alert(`ğŸ‘‹ Cutucada enviada para a usuÃ¡ria!`);
            // Na prÃ¡tica, enviaria via WebSocket/WebRTC
        }
        
        function toggleHelpMode() {
            helpModeActive = !helpModeActive;
            const status = document.getElementById('helpModeStatus');
            status.textContent = helpModeActive ? 'ON' : 'OFF';
            status.className = helpModeActive ? 'action-status active' : 'action-status';
            
            alert(helpModeActive ? 
                'ğŸ›¡ï¸ Modo Vigilante Ativado: VocÃª serÃ¡ notificada de emergÃªncias prÃ³ximas.' :
                'Modo Vigilante Desativado.');
        }
        
        function broadcastSafeZone() {
            const location = prompt('Nome do local seguro:', 'FarmÃ¡cia 24h - Av. Paulista');
            if (location) {
                alert(`ğŸ“ Zona Segura "${location}" compartilhada com a comunidade!`);
            }
        }
        
        function openCommunityChat() {
            alert('ğŸ’¬ Chat da comunidade serÃ¡ implementado em breve!');
            // window.location.href = 'chat.html';
        }
        
        function reportIncident() {
            const incident = prompt('Descreva o incidente (local, hora, descriÃ§Ã£o):');
            if (incident) {
                alert('âš ï¸ Incidente reportado Ã  comunidade. Obrigada!');
            }
        }
        
        // Simular atualizaÃ§Ã£o de usuÃ¡rios prÃ³ximos
        setInterval(() => {
            nearbyUsers = Math.max(1, nearbyUsers + Math.floor(Math.random() * 3) - 1);
            document.getElementById('nearbyCount').textContent = 
                `${nearbyUsers} na sua Ã¡rea`;
        }, 30000);
    </script>
</body>
</html>