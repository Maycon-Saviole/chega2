<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHEGA! - SeguranÃ§a Pessoal</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Menu Superior -->
    <nav class="top-nav">
        <div class="nav-left">
            <span class="app-name">ğŸš¨ CHEGA!</span>
        </div>
        <div class="nav-right">
            <button class="icon-btn" onclick="location.href='settings.html'">âš™ï¸</button>
            <button class="icon-btn" onclick="location.href='history.html'">ğŸ“Š</button>
        </div>
    </nav>

    <!-- ConteÃºdo Principal -->
    <main class="container">
        <!-- Status do UsuÃ¡rio -->
        <div class="user-status">
            <div class="status-card safe">
                <span class="status-icon">âœ…</span>
                <div class="status-info">
                    <h3>Status: Segura</h3>
                    <p>Ãšltima verificaÃ§Ã£o: Agora</p>
                </div>
            </div>
        </div>

        <!-- BotÃ£o de EmergÃªncia -->
        <div class="emergency-section">
            <div class="emergency-btn-container">
                <button id="emergencyBtn" class="emergency-btn" 
                        ontouchstart="app.startPress()" 
                        ontouchend="app.endPress()">
                    <span class="btn-main">CHEGA!</span>
                    <span class="btn-sub">Segure 3 segundos</span>
                </button>
                
                <div class="emergency-tips">
                    <p>ğŸ’¡ TambÃ©m ativa com:</p>
                    <ul>
                        <li>3 toques rÃ¡pidos no botÃ£o de volume</li>
                        <li>Sacudir o celular vigorosamente</li>
                        <li>BotÃ£o rÃ¡pido na tela travada</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Funcionalidades RÃ¡pidas -->
        <div class="quick-actions">
            <h2>AÃ§Ãµes RÃ¡pidas</h2>
            <div class="action-grid">
                <button class="action-btn" onclick="app.startTrip()">
                    <span class="action-icon">ğŸ“</span>
                    <span class="action-text">Iniciar Trajeto</span>
                </button>
                
                <button class="action-btn" onclick="location.href='contacts.html'">
                    <span class="action-icon">ğŸ‘¥</span>
                    <span class="action-text">Contatos</span>
                </button>
                
                <button class="action-btn" onclick="app.sendStatus('ok')">
                    <span class="action-icon">âœ…</span>
                    <span class="action-text">Estou Bem</span>
                </button>
                
                <button class="action-btn" onclick="location.href='community.html'">
                    <span class="action-icon">ğŸ¤</span>
                    <span class="action-text">CHEGA+</span>
                </button>
            </div>
        </div>

        <!-- Status do Sistema -->
        <div class="system-status">
            <h2>Status do Sistema</h2>
            <div class="status-grid">
                <div class="status-item">
                    <span class="status-label">ğŸ“ GPS</span>
                    <span id="gpsStatus" class="status-value active">Ativo</span>
                </div>
                <div class="status-item">
                    <span class="status-label">ğŸ“¶ Rede</span>
                    <span id="networkStatus" class="status-value active">Online</span>
                </div>
                <div class="status-item">
                    <span class="status-label">ğŸ”‹ Bateria</span>
                    <span id="batteryStatus" class="status-value">85%</span>
                </div>
                <div class="status-item">
                    <span class="status-label">â±ï¸ Pronto</span>
                    <span class="status-value ready">Sistema OK</span>
                </div>
            </div>
        </div>

        <!-- Acesso RÃ¡pido -->
        <div class="quick-access">
            <a href="trip.html" class="access-link">
                <span class="link-icon">ğŸš¶â€â™€ï¸</span>
                <span class="link-text">Acompanhamento de Trajeto</span>
                <span class="link-arrow">â†’</span>
            </a>
            
            <a href="contacts.html" class="access-link">
                <span class="link-icon">ğŸ“</span>
                <span class="link-text">Contatos de EmergÃªncia</span>
                <span class="link-arrow">â†’</span>
            </a>
            
            <a href="community.html" class="access-link">
                <span class="link-icon">ğŸ‘­</span>
                <span class="link-text">Rede CHEGA+ PrÃ³xima</span>
                <span class="link-arrow">â†’</span>
            </a>
            
            <a href="about.html" class="access-link">
                <span class="link-icon">â„¹ï¸</span>
                <span class="link-text">Sobre o Projeto</span>
                <span class="link-arrow">â†’</span>
            </a>
        </div>
    </main>

    <!-- NotificaÃ§Ã£o de InstalaÃ§Ã£o -->
    <div id="installPrompt" class="install-prompt">
        <p>ğŸ“² Instale o CHEGA! para acesso rÃ¡pido</p>
        <button id="installBtn" class="install-btn">Instalar Agora</button>
        <button onclick="hideInstallPrompt()" class="install-cancel">Depois</button>
    </div>

    <script src="js/app.js"></script>
    <script>
        // Inicializar quando carregar
        document.addEventListener('DOMContentLoaded', function() {
            // Esconder prompt de instalaÃ§Ã£o se jÃ¡ instalado
            if (window.matchMedia('(display-mode: standalone)').matches) {
                document.getElementById('installPrompt').style.display = 'none';
            }
            
            // Atualizar status do sistema
            updateSystemStatus();
        });
        
        function updateSystemStatus() {
            // Atualizar bateria
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    document.getElementById('batteryStatus').textContent = 
                        Math.round(battery.level * 100) + '%';
                });
            }
            
            // Atualizar rede
            window.addEventListener('online', () => {
                document.getElementById('networkStatus').textContent = 'Online';
                document.getElementById('networkStatus').className = 'status-value active';
            });
            
            window.addEventListener('offline', () => {
                document.getElementById('networkStatus').textContent = 'Offline';
                document.getElementById('networkStatus').className = 'status-value inactive';
            });
        }
        
        function hideInstallPrompt() {
            document.getElementById('installPrompt').style.display = 'none';
        }
    </script>
</body>
</html>